(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{16736:function(e,t,n){Promise.resolve().then(n.bind(n,72727))},72727:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(57437),r=n(2265),a=n(87138),i=n(16463),u=n(88726),c=n(62100);function l(){let e=(0,i.useRouter)(),[t,n]=(0,r.useState)(null),[l,o]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[m,f]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let t=(0,c.V)();t&&(n(t),(async()=>{let{data:{user:n}}=await t.auth.getUser();n?e.replace("/surveys"):f(!1)})())},[e]);let p=async n=>{if(n.preventDefault(),!t)return;f(!0);let{error:s}=await t.auth.signInWithPassword({email:l,password:h});f(!1),s?u.ZP.error(s.message):e.replace("/surveys")},g=async()=>{if(!t)return;f(!0);let{error:e}=await t.auth.signInWithOtp({email:l,options:{emailRedirectTo:"".concat(location.origin,"/surveys")}});f(!1),e?u.ZP.error(e.message):u.ZP.success("Revisa tu correo para el Magic Link.")};return m||!t?null:(0,s.jsx)("main",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg)",padding:"1rem"},children:(0,s.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"420px",textAlign:"center"},children:[(0,s.jsx)("h1",{style:{marginTop:0,marginBottom:"1rem"},children:"Iniciar sesi\xf3n"}),(0,s.jsxs)("form",{onSubmit:p,className:"grid",style:{gap:"1rem",textAlign:"left"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{value:l,onChange:e=>o(e.target.value),type:"email",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Contrase\xf1a"}),(0,s.jsx)("input",{value:h,onChange:e=>d(e.target.value),type:"password",required:!0})]}),(0,s.jsxs)("div",{className:"stack",style:{justifyContent:"center"},children:[(0,s.jsx)("button",{className:"btn primary",type:"submit",children:"Entrar"}),(0,s.jsx)("button",{className:"btn outline",type:"button",onClick:g,children:"Magic Link"})]})]}),(0,s.jsxs)("p",{style:{marginTop:"1.2rem",fontSize:".9rem",color:"var(--muted)"},children:["\xbfA\xfan no tienes cuenta?"," ",(0,s.jsx)(a.default,{href:"/auth/register",style:{color:"var(--accent)",fontWeight:600},children:"Reg\xedstrate ahora"})]})]})})}},62100:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var s=n(35570);let r=null;function a(){return r||(r=(0,s.createBrowserClient)("https://jfagkzxzkbslpohhojuh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmYWdrenh6a2JzbHBvaGhvanVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0NDIyNjQsImV4cCI6MjA3ODAxODI2NH0.y8rKE8CyNK54GkqRRDalX5hyPy1YrG8NVj6mr2sgKPU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1}}))}},87138:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var s=n(231),r=n.n(s)},16463:function(e,t,n){"use strict";var s=n(71169);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[570,726,231,971,23,744],function(){return e(e.s=16736)}),_N_E=e.O()}]);