(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{8185:function(t,e,n){Promise.resolve().then(n.bind(n,9535)),Promise.resolve().then(n.t.bind(n,231,23))},9535:function(t,e,n){"use strict";n.d(e,{Actions:function(){return u},CopyLink:function(){return r}});var s=n(57437),a=n(2265),o=n(16463);function r(t){let{slug:e}=t,[n,o]=(0,a.useState)(!1);return(0,s.jsx)("button",{className:"btn outline",onClick:async()=>{let t="undefined"!=typeof location?"".concat(location.origin,"/s/").concat(e):"/s/".concat(e);try{await navigator.clipboard.writeText(t),o(!0),setTimeout(()=>o(!1),1500)}catch(t){console.error("No se pudo copiar")}},title:"Copiar enlace",children:n?"\xa1Copiado!":"Copiar enlace"})}function u(t){let{id:e,status:n,slug:r}=t,u=(0,o.useRouter)(),[i,c]=(0,a.useTransition)(),[l,d]=(0,a.useState)({status:n,slug:r}),b=t=>{c(async()=>{var n;let s=await fetch("/api/surveys/".concat(e,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t})});if(!s.ok)return;let a=await s.json();d({status:a.status,slug:null!==(n=a.slug)&&void 0!==n?n:l.slug}),u.refresh()})};return"draft"===l.status?(0,s.jsx)("button",{className:"btn primary",onClick:()=>b("publish"),disabled:i,children:i?"Publicando…":"Publicar"}):"published"===l.status?(0,s.jsx)("button",{className:"btn danger",onClick:()=>b("close"),disabled:i,children:i?"Cerrando…":"Cerrar"}):(0,s.jsx)("button",{className:"btn primary",onClick:()=>b("reopen"),disabled:i,children:i?"Reabriendo…":"Reabrir"})}},16463:function(t,e,n){"use strict";var s=n(71169);n.o(s,"useParams")&&n.d(e,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(e,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(e,{useRouter:function(){return s.useRouter}})}},function(t){t.O(0,[231,971,23,744],function(){return t(t.s=8185)}),_N_E=t.O()}]);