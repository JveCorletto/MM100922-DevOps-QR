"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n\nasync function middleware(request) {\n    // Crear respuesta\n    const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n    try {\n        const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://jfagkzxzkbslpohhojuh.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmYWdrenh6a2JzbHBvaGhvanVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0NDIyNjQsImV4cCI6MjA3ODAxODI2NH0.y8rKE8CyNK54GkqRRDalX5hyPy1YrG8NVj6mr2sgKPU\", {\n            cookies: {\n                getAll () {\n                    return request.cookies.getAll();\n                },\n                setAll (cookiesToSet) {\n                    cookiesToSet.forEach(({ name, value, options })=>{\n                        // Solo establecer cookies si realmente han cambiado\n                        const currentValue = request.cookies.get(name)?.value;\n                        if (currentValue !== value) {\n                            response.cookies.set(name, value, options);\n                        }\n                    });\n                }\n            }\n        });\n        // Solo verificar sesión, no forzar refresh\n        await supabase.auth.getSession();\n    } catch (error) {\n        console.error(\"Middleware error:\", error);\n    // No hacer nada, continuar con la petición\n    }\n    return response;\n}\nconst config = {\n    matcher: [\n        // Solo proteger rutas que necesiten autenticación\n        \"/surveys/:path*\",\n        \"/analytics/:path*\",\n        \"/profile/:path*\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtEO0FBQ1U7QUFFckQsZUFBZUUsV0FBV0MsT0FBb0I7SUFDbkQsa0JBQWtCO0lBQ2xCLE1BQU1DLFdBQVdILHFEQUFZQSxDQUFDSSxJQUFJO0lBRWxDLElBQUk7UUFDRixNQUFNQyxXQUFXTixpRUFBa0JBLENBQ2pDTywwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztZQUNFSSxTQUFTO2dCQUNQQztvQkFDRSxPQUFPVCxRQUFRUSxPQUFPLENBQUNDLE1BQU07Z0JBQy9CO2dCQUNBQyxRQUFPQyxZQUFZO29CQUNqQkEsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTt3QkFDNUMsb0RBQW9EO3dCQUNwRCxNQUFNQyxlQUFlaEIsUUFBUVEsT0FBTyxDQUFDUyxHQUFHLENBQUNKLE9BQU9DO3dCQUNoRCxJQUFJRSxpQkFBaUJGLE9BQU87NEJBQzFCYixTQUFTTyxPQUFPLENBQUNVLEdBQUcsQ0FBQ0wsTUFBTUMsT0FBT0M7d0JBQ3BDO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtRQUdGLDJDQUEyQztRQUMzQyxNQUFNWixTQUFTZ0IsSUFBSSxDQUFDQyxVQUFVO0lBRWhDLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMscUJBQXFCQTtJQUNuQywyQ0FBMkM7SUFDN0M7SUFFQSxPQUFPcEI7QUFDVDtBQUVPLE1BQU1zQixTQUFTO0lBQ3BCQyxTQUFTO1FBQ1Asa0RBQWtEO1FBQ2xEO1FBQ0E7UUFDQTtLQUNEO0FBQ0gsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9taWRkbGV3YXJlLnRzPzQyMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3NzcidcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlLCB0eXBlIE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIC8vIENyZWFyIHJlc3B1ZXN0YVxyXG4gIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoKVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgICAge1xyXG4gICAgICAgIGNvb2tpZXM6IHtcclxuICAgICAgICAgIGdldEFsbCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuY29va2llcy5nZXRBbGwoKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcclxuICAgICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFNvbG8gZXN0YWJsZWNlciBjb29raWVzIHNpIHJlYWxtZW50ZSBoYW4gY2FtYmlhZG9cclxuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KG5hbWUpPy52YWx1ZVxyXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICAvLyBTb2xvIHZlcmlmaWNhciBzZXNpw7NuLCBubyBmb3J6YXIgcmVmcmVzaFxyXG4gICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKClcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdNaWRkbGV3YXJlIGVycm9yOicsIGVycm9yKVxyXG4gICAgLy8gTm8gaGFjZXIgbmFkYSwgY29udGludWFyIGNvbiBsYSBwZXRpY2nDs25cclxuICB9XHJcblxyXG4gIHJldHVybiByZXNwb25zZVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIG1hdGNoZXI6IFtcclxuICAgIC8vIFNvbG8gcHJvdGVnZXIgcnV0YXMgcXVlIG5lY2VzaXRlbiBhdXRlbnRpY2FjacOzblxyXG4gICAgJy9zdXJ2ZXlzLzpwYXRoKicsXHJcbiAgICAnL2FuYWx5dGljcy86cGF0aConLFxyXG4gICAgJy9wcm9maWxlLzpwYXRoKicsXHJcbiAgXSxcclxufSJdLCJuYW1lcyI6WyJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJOZXh0UmVzcG9uc2UiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiY29va2llcyIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwiY3VycmVudFZhbHVlIiwiZ2V0Iiwic2V0IiwiYXV0aCIsImdldFNlc3Npb24iLCJlcnJvciIsImNvbnNvbGUiLCJjb25maWciLCJtYXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});