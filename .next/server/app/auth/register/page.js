(()=>{var e={};e.id=454,e.ids=[454],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},33183:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(63374),s(20445),s(35866);var t=s(23191),a=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c=["",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,63374)),"C:\\Projects\\MM100922-DevOps-QR\\app\\auth\\register\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,20445)),"C:\\Projects\\MM100922-DevOps-QR\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Projects\\MM100922-DevOps-QR\\app\\auth\\register\\page.tsx"],u="/auth/register/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/register/page",pathname:"/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63366:(e,r,s)=>{Promise.resolve().then(s.bind(s,50353))},44358:(e,r,s)=>{Promise.resolve().then(s.bind(s,41204)),Promise.resolve().then(s.bind(s,28573)),Promise.resolve().then(s.bind(s,40381))},73057:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},50353:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(10326),a=s(90434),n=s(40381),i=s(35047),l=s(17577);function o(){(0,i.useRouter)();let[e,r]=(0,l.useState)(null);if(!e)return null;let[s,o]=(0,l.useState)({email:"",password:"",repeatPassword:"",nombres:"",apellidos:"",telefono:"",genero:"",fechaNacimiento:""}),[c,d]=(0,l.useState)(!1),[u,p]=(0,l.useState)(0),m=()=>{let e=Math.floor(Date.now()/1e3)+60;localStorage.setItem("signup_cooldown_until",String(e)),p(60)},h=e=>o(r=>({...r,[e.target.name]:e.target.value})),x=async r=>{if(r.preventDefault(),u>0)return n.ZP.error(`Espera ${u}s para intentarlo de nuevo`);if(!s.email||!s.password)return n.ZP.error("Completa email y contrase\xf1a");if(s.password.length<8)return n.ZP.error("La contrase\xf1a debe tener al menos 8 caracteres");if(s.password!==s.repeatPassword)return n.ZP.error("Las contrase\xf1as no coinciden");if(!s.nombres||!s.apellidos)return n.ZP.error("Completa nombres y apellidos");if(!s.genero)return n.ZP.error("Selecciona el g\xe9nero");if(!s.fechaNacimiento)return n.ZP.error("Indica tu fecha de nacimiento");d(!0);let{error:t}=await e.auth.signUp({email:s.email,password:s.password,options:{emailRedirectTo:`${location.origin}/surveys`,data:{display_name:`${s.nombres} ${s.apellidos}`.trim(),nombres:s.nombres,apellidos:s.apellidos,telefono:s.telefono,genero:s.genero,fecha_nacimiento:s.fechaNacimiento}}});if(d(!1),t)return 429===t.status?(m(),n.ZP.error("Demasiadas solicitudes. Intenta en 60s.")):n.ZP.error(t.message);m(),n.ZP.success("Cuenta creada. Revisa tu correo para verificarla.")},g=async()=>{if(!s.email)return n.ZP.error("Ingresa tu correo para reenviar");if(u>0)return n.ZP.error(`Reenviar en ${u}s`);d(!0);let{error:r}=await e.auth.resend({type:"signup",email:s.email,options:{emailRedirectTo:`${location.origin}/surveys`}});if(d(!1),r)return 429===r.status?(m(),n.ZP.error("Demasiadas solicitudes. Intenta en 60s.")):n.ZP.error(r.message);m(),n.ZP.success("Verificaci\xf3n reenviada. Revisa tu bandeja y spam.")};return t.jsx("main",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg)",padding:"1rem"},children:(0,t.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:500,textAlign:"center"},children:[t.jsx("h1",{style:{marginTop:0,marginBottom:"1rem"},children:"Crear cuenta"}),(0,t.jsxs)("form",{onSubmit:x,className:"grid",style:{gap:"1rem",textAlign:"left"},children:[(0,t.jsxs)("div",{className:"grid grid-2",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{children:"Nombres"}),t.jsx("input",{name:"nombres",value:s.nombres,onChange:h,required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{children:"Apellidos"}),t.jsx("input",{name:"apellidos",value:s.apellidos,onChange:h,required:!0})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{children:"Correo electr\xf3nico"}),t.jsx("input",{name:"email",type:"email",value:s.email,onChange:h,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-2",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{children:"Contrase\xf1a"}),t.jsx("input",{name:"password",type:"password",value:s.password,onChange:h,required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{children:"Repetir contrase\xf1a"}),t.jsx("input",{name:"repeatPassword",type:"password",value:s.repeatPassword,onChange:h,required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-2",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{children:"N\xfamero de tel\xe9fono"}),t.jsx("input",{name:"telefono",type:"tel",placeholder:"Ej. +503 7777 7777",value:s.telefono,onChange:h})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{children:"G\xe9nero"}),(0,t.jsxs)("select",{name:"genero",value:s.genero,onChange:h,required:!0,children:[t.jsx("option",{value:"",children:"Seleccione..."}),t.jsx("option",{value:"Masculino",children:"Masculino"}),t.jsx("option",{value:"Femenino",children:"Femenino"}),t.jsx("option",{value:"Otro",children:"Otro"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{children:"Fecha de nacimiento"}),t.jsx("input",{name:"fechaNacimiento",type:"date",value:s.fechaNacimiento,onChange:h,required:!0})]}),t.jsx("button",{className:"btn primary",type:"submit",disabled:c||u>0,children:u>0?`Espera ${u}s`:c?"Registrando...":"Registrarme"})]}),t.jsx("div",{className:"stack",style:{justifyContent:"center",marginTop:".7rem"},children:t.jsx("button",{className:"btn outline",onClick:g,disabled:c||u>0,children:u>0?`Reenviar en ${u}s`:"Reenviar verificaci\xf3n"})}),(0,t.jsxs)("p",{style:{marginTop:"1.2rem",fontSize:".9rem",color:"var(--muted)"},children:["\xbfYa tienes cuenta?"," ",t.jsx(a.default,{href:"/auth/login",style:{color:"var(--accent)",fontWeight:600},children:"Inicia sesi\xf3n"})]})]})})}s(92550)},41204:(e,r,s)=>{"use strict";s.d(r,{default:()=>o});var t=s(10326),a=s(90434),n=s(40381),i=s(17577);s(92550);var l=s(35047);function o(){let[e,r]=(0,i.useState)(null);if(!e)return null;let s=(0,l.useRouter)();(0,l.usePathname)();let[o,c]=(0,i.useState)(!1),{user:d,loading:u}=function(){let[e,r]=(0,i.useState)(null),[s,t]=(0,i.useState)(!0);return{user:e,loading:s}}(),p=async()=>{try{await e.auth.signOut(),n.ZP.success("Sesi\xf3n cerrada"),s.refresh(),s.push("/")}catch(e){console.error("Error en logout:",e),n.ZP.error("No se pudo cerrar sesi\xf3n")}},m=()=>{c(!1)};return(0,t.jsxs)("nav",{className:"nav",children:[(0,t.jsxs)("div",{className:"nav-inner container",children:[(0,t.jsxs)(a.default,{href:"/",className:"brand",onClick:m,children:["Surveys\xa0",t.jsx("span",{className:"badge",children:"UFG"})]}),t.jsx("button",{className:"sm:hidden btn","aria-controls":"mobile-menu","aria-expanded":o,onClick:()=>c(e=>!e),children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsx("div",{className:"hidden sm:flex items-center gap-3",children:u?(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"})]}):(0,t.jsxs)(t.Fragment,{children:[d&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(a.default,{href:"/surveys",onClick:m,children:"Mis encuestas"}),t.jsx(a.default,{href:"/analytics",onClick:m,children:"Anal\xedtica"})]}),d?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(a.default,{href:"/profile",className:"btn outline",title:"Ver/editar perfil",onClick:m,children:d.name}),t.jsx("button",{className:"btn",onClick:p,children:"Cerrar Sesi\xf3n"})]}):t.jsx(a.default,{href:"/auth/login",className:"btn primary",onClick:m,children:"Iniciar Sesi\xf3n"})]})})]}),t.jsx("div",{id:"mobile-menu",className:`sm:hidden ${o?"block":"hidden"} border-t border-[rgba(125,117,116,0.15)] bg-[rgba(250,245,233,0.95)]`,children:t.jsx("div",{className:"container py-2 space-y-1",children:u?(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]}):(0,t.jsxs)(t.Fragment,{children:[d&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(a.default,{href:"/surveys",className:"block px-2 py-2 rounded-md hover:bg-white",onClick:m,children:"Mis encuestas"}),t.jsx(a.default,{href:"/analytics",className:"block px-2 py-2 rounded-md hover:bg-white",onClick:m,children:"Anal\xedtica"}),t.jsx(a.default,{href:"/profile",className:"block px-2 py-2 rounded-md hover:bg-white",onClick:m,children:d.name}),t.jsx("button",{onClick:p,className:"block w-full text-center px-2 py-2 rounded-md btn",children:"Cerrar Sesi\xf3n"})]}),!d&&t.jsx(a.default,{href:"/auth/login",className:"block px-2 py-2 rounded-md btn primary w-full text-center",onClick:m,children:"Iniciar Sesi\xf3n"})]})})})]})}},28573:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});var t=s(17577);function a(){let[e,r]=(0,t.useState)(null);return null}s(92550)},92550:(e,r,s)=>{"use strict";s(99806)},63374:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var t=s(68570);let a=(0,t.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\app\auth\register\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,t.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\app\auth\register\page.tsx#default`)},20445:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g,metadata:()=>h,viewport:()=>x});var t=s(19510);s(67272);var a=s(68570);let n=(0,a.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\NavBar.tsx`),{__esModule:i,$$typeof:l}=n;n.default;let o=(0,a.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\NavBar.tsx#default`);var c=s(19125);let d=(0,a.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\SessionInitializer.tsx`),{__esModule:u,$$typeof:p}=d;d.default;let m=(0,a.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\SessionInitializer.tsx#default`),h={title:"Sistema de Encuestas con QR",description:"Crea, publica y analiza encuestas con acceso por QR o enlace p\xfablico"},x={width:"device-width",initialScale:1};function g({children:e}){return t.jsx("html",{lang:"es",children:(0,t.jsxs)("body",{children:[t.jsx(m,{}),t.jsx(o,{}),e,t.jsx(c.x7,{position:"top-center",toastOptions:{style:{background:"#FAF5E9",color:"#4A4544",border:"1px solid #C1E1C1",borderRadius:"12px",fontSize:"0.95rem"},success:{iconTheme:{primary:"#9FB982",secondary:"#FAF5E9"}},error:{iconTheme:{primary:"#B84D4D",secondary:"#FAF5E9"}}}}),(0,t.jsxs)("footer",{className:"footer container",children:["\xa9 ",new Date().getFullYear()," UFG Surveys"]})]})})}},38238:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return s}});class s{static get(e,r,s){let t=Reflect.get(e,r,s);return"function"==typeof t?t.bind(e):t}static set(e,r,s,t){return Reflect.set(e,r,s,t)}static has(e,r){return Reflect.has(e,r)}static deleteProperty(e,r){return Reflect.deleteProperty(e,r)}}},67272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[948,137],()=>s(33183));module.exports=t})();