(()=>{var e={};e.id=174,e.ids=[174],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89798:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(74595),r(20445),r(35866);var s=r(23191),n=r(88716),a=r(37922),i=r.n(a),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["auth",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74595)),"C:\\Projects\\MM100922-DevOps-QR\\app\\auth\\login\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,20445)),"C:\\Projects\\MM100922-DevOps-QR\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Projects\\MM100922-DevOps-QR\\app\\auth\\login\\page.tsx"],u="/auth/login/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/auth/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39245:(e,t,r)=>{Promise.resolve().then(r.bind(r,87241))},44358:(e,t,r)=>{Promise.resolve().then(r.bind(r,41204)),Promise.resolve().then(r.bind(r,28573)),Promise.resolve().then(r.bind(r,40381))},73057:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},87241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(10326),n=r(17577),a=r(90434),i=r(35047),l=r(40381);function o(){let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(null),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[p,h]=(0,n.useState)(!0),m=async r=>{if(r.preventDefault(),!t)return;h(!0);let{error:s}=await t.auth.signInWithPassword({email:o,password:d});h(!1),s?l.ZP.error(s.message):e.replace("/surveys")},x=async()=>{if(!t)return;h(!0);let{error:e}=await t.auth.signInWithOtp({email:o,options:{emailRedirectTo:`${location.origin}/surveys`}});h(!1),e?l.ZP.error(e.message):l.ZP.success("Revisa tu correo para el Magic Link.")};return p||!t?null:s.jsx("main",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg)",padding:"1rem"},children:(0,s.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"420px",textAlign:"center"},children:[s.jsx("h1",{style:{marginTop:0,marginBottom:"1rem"},children:"Iniciar sesi\xf3n"}),(0,s.jsxs)("form",{onSubmit:m,className:"grid",style:{gap:"1rem",textAlign:"left"},children:[(0,s.jsxs)("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("input",{value:o,onChange:e=>c(e.target.value),type:"email",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{children:"Contrase\xf1a"}),s.jsx("input",{value:d,onChange:e=>u(e.target.value),type:"password",required:!0})]}),(0,s.jsxs)("div",{className:"stack",style:{justifyContent:"center"},children:[s.jsx("button",{className:"btn primary",type:"submit",children:"Entrar"}),s.jsx("button",{className:"btn outline",type:"button",onClick:x,children:"Magic Link"})]})]}),(0,s.jsxs)("p",{style:{marginTop:"1.2rem",fontSize:".9rem",color:"var(--muted)"},children:["\xbfA\xfan no tienes cuenta?"," ",s.jsx(a.default,{href:"/auth/register",style:{color:"var(--accent)",fontWeight:600},children:"Reg\xedstrate ahora"})]})]})})}r(92550)},41204:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),n=r(90434),a=r(40381),i=r(17577);r(92550);var l=r(35047);function o(){let[e,t]=(0,i.useState)(null);if(!e)return null;let r=(0,l.useRouter)();(0,l.usePathname)();let[o,c]=(0,i.useState)(!1),{user:d,loading:u}=function(){let[e,t]=(0,i.useState)(null),[r,s]=(0,i.useState)(!0);return{user:e,loading:r}}(),p=async()=>{try{await e.auth.signOut(),a.ZP.success("Sesi\xf3n cerrada"),r.refresh(),r.push("/")}catch(e){console.error("Error en logout:",e),a.ZP.error("No se pudo cerrar sesi\xf3n")}},h=()=>{c(!1)};return(0,s.jsxs)("nav",{className:"nav",children:[(0,s.jsxs)("div",{className:"nav-inner container",children:[(0,s.jsxs)(n.default,{href:"/",className:"brand",onClick:h,children:["Surveys\xa0",s.jsx("span",{className:"badge",children:"UFG"})]}),s.jsx("button",{className:"sm:hidden btn","aria-controls":"mobile-menu","aria-expanded":o,onClick:()=>c(e=>!e),children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("div",{className:"hidden sm:flex items-center gap-3",children:u?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"})]}):(0,s.jsxs)(s.Fragment,{children:[d&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/surveys",onClick:h,children:"Mis encuestas"}),s.jsx(n.default,{href:"/analytics",onClick:h,children:"Anal\xedtica"})]}),d?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.default,{href:"/profile",className:"btn outline",title:"Ver/editar perfil",onClick:h,children:d.name}),s.jsx("button",{className:"btn",onClick:p,children:"Cerrar Sesi\xf3n"})]}):s.jsx(n.default,{href:"/auth/login",className:"btn primary",onClick:h,children:"Iniciar Sesi\xf3n"})]})})]}),s.jsx("div",{id:"mobile-menu",className:`sm:hidden ${o?"block":"hidden"} border-t border-[rgba(125,117,116,0.15)] bg-[rgba(250,245,233,0.95)]`,children:s.jsx("div",{className:"container py-2 space-y-1",children:u?(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]}):(0,s.jsxs)(s.Fragment,{children:[d&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.default,{href:"/surveys",className:"block px-2 py-2 rounded-md hover:bg-white",onClick:h,children:"Mis encuestas"}),s.jsx(n.default,{href:"/analytics",className:"block px-2 py-2 rounded-md hover:bg-white",onClick:h,children:"Anal\xedtica"}),s.jsx(n.default,{href:"/profile",className:"block px-2 py-2 rounded-md hover:bg-white",onClick:h,children:d.name}),s.jsx("button",{onClick:p,className:"block w-full text-center px-2 py-2 rounded-md btn",children:"Cerrar Sesi\xf3n"})]}),!d&&s.jsx(n.default,{href:"/auth/login",className:"block px-2 py-2 rounded-md btn primary w-full text-center",onClick:h,children:"Iniciar Sesi\xf3n"})]})})})]})}},28573:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(17577);function n(){let[e,t]=(0,s.useState)(null);return null}r(92550)},92550:(e,t,r)=>{"use strict";r(99806)},74595:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});var s=r(68570);let n=(0,s.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\app\auth\login\page.tsx`),{__esModule:a,$$typeof:i}=n;n.default;let l=(0,s.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\app\auth\login\page.tsx#default`)},20445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g,metadata:()=>m,viewport:()=>x});var s=r(19510);r(67272);var n=r(68570);let a=(0,n.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\NavBar.tsx`),{__esModule:i,$$typeof:l}=a;a.default;let o=(0,n.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\NavBar.tsx#default`);var c=r(19125);let d=(0,n.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\SessionInitializer.tsx`),{__esModule:u,$$typeof:p}=d;d.default;let h=(0,n.createProxy)(String.raw`C:\Projects\MM100922-DevOps-QR\components\SessionInitializer.tsx#default`),m={title:"Sistema de Encuestas con QR",description:"Crea, publica y analiza encuestas con acceso por QR o enlace p\xfablico"},x={width:"device-width",initialScale:1};function g({children:e}){return s.jsx("html",{lang:"es",children:(0,s.jsxs)("body",{children:[s.jsx(h,{}),s.jsx(o,{}),e,s.jsx(c.x7,{position:"top-center",toastOptions:{style:{background:"#FAF5E9",color:"#4A4544",border:"1px solid #C1E1C1",borderRadius:"12px",fontSize:"0.95rem"},success:{iconTheme:{primary:"#9FB982",secondary:"#FAF5E9"}},error:{iconTheme:{primary:"#B84D4D",secondary:"#FAF5E9"}}}}),(0,s.jsxs)("footer",{className:"footer container",children:["\xa9 ",new Date().getFullYear()," UFG Surveys"]})]})})}},38238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let s=Reflect.get(e,t,r);return"function"==typeof s?s.bind(e):s}static set(e,t,r,s){return Reflect.set(e,t,r,s)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,137],()=>r(89798));module.exports=s})();